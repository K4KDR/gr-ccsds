<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNU Radio&#39;s CCSDS Package: ccsds_randomiser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio&#39;s CCSDS Package
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classccsds__randomiser.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">ccsds_randomiser Class Reference<div class="ingroups"><a class="el" href="group__telemetry.html">CCSDS telemetry blocks</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Combines the input frame with a pseudo random sequence by XOR operation. The pseudo random sequence is generated by an 8-bit linear feedback shift register as defined in ECSS.  
 <a href="classccsds__randomiser.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ccsds__randomiser_8h_source.html">ccsds_randomiser.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ccsds_randomiser:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classccsds__randomiser.png" usemap="#ccsds_randomiser_map" alt=""/>
  <map id="ccsds_randomiser_map" name="ccsds_randomiser_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a668c672b22bba1bcd9fd27a49066afc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#a668c672b22bba1bcd9fd27a49066afc9">~ccsds_randomiser</a> ()</td></tr>
<tr class="memdesc:a668c672b22bba1bcd9fd27a49066afc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public deconstructor.  <a href="#a668c672b22bba1bcd9fd27a49066afc9">More...</a><br/></td></tr>
<tr class="separator:a668c672b22bba1bcd9fd27a49066afc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6d24aa9407175d5172647c00064291"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#acd6d24aa9407175d5172647c00064291">work</a> (int noutput_items, gr_vector_const_void_star &amp;input_items, gr_vector_void_star &amp;output_items)</td></tr>
<tr class="memdesc:acd6d24aa9407175d5172647c00064291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dummy work function.  <a href="#acd6d24aa9407175d5172647c00064291">More...</a><br/></td></tr>
<tr class="separator:acd6d24aa9407175d5172647c00064291"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6388f303c1baec67f0e37429166f83bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#a6388f303c1baec67f0e37429166f83bf">ccsds_randomiser</a> (const uint8_t polynomial=0x95, const uint8_t seed=0xFF)</td></tr>
<tr class="separator:a6388f303c1baec67f0e37429166f83bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7878d4af29d9c9da46c9e0cb7b4232"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#a5e7878d4af29d9c9da46c9e0cb7b4232">reset</a> (void)</td></tr>
<tr class="separator:a5e7878d4af29d9c9da46c9e0cb7b4232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a056ecc251a82e0a7f8ae7aa5c08b48dc"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#a056ecc251a82e0a7f8ae7aa5c08b48dc">get_next_byte</a> (void)</td></tr>
<tr class="separator:a056ecc251a82e0a7f8ae7aa5c08b48dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83e81f09aa6d4d42b24efc6646a9faa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#ab83e81f09aa6d4d42b24efc6646a9faa">process_frame</a> (pmt::pmt_t msg)</td></tr>
<tr class="memdesc:ab83e81f09aa6d4d42b24efc6646a9faa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous work function which is processing the queues.  <a href="#ab83e81f09aa6d4d42b24efc6646a9faa">More...</a><br/></td></tr>
<tr class="separator:ab83e81f09aa6d4d42b24efc6646a9faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a631df0404e6e883aca1896b9f060e927"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#a631df0404e6e883aca1896b9f060e927">d_POLY</a></td></tr>
<tr class="separator:a631df0404e6e883aca1896b9f060e927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82123b1f3210fdb02344ee1a75fffd10"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#a82123b1f3210fdb02344ee1a75fffd10">d_SEED</a></td></tr>
<tr class="separator:a82123b1f3210fdb02344ee1a75fffd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac040a95627ae8252454b32a822d31746"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#ac040a95627ae8252454b32a822d31746">d_state</a></td></tr>
<tr class="separator:ac040a95627ae8252454b32a822d31746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994c8eb9880824c8e88f1435961e1196"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#a994c8eb9880824c8e88f1435961e1196">d_stop</a></td></tr>
<tr class="separator:a994c8eb9880824c8e88f1435961e1196"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a446a1ed5519eb7b1e61fa4af0fa95f2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api_8h.html#a144137922962dd54ae2e8c1917a7e588">CCSDS_API</a> ccsds_randomiser_sptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__randomiser.html#a446a1ed5519eb7b1e61fa4af0fa95f2b">ccsds_make_randomiser</a> (const uint8_t polynomial, const uint8_t seed)</td></tr>
<tr class="memdesc:a446a1ed5519eb7b1e61fa4af0fa95f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a shared_ptr to a new instance of <a class="el" href="classccsds__randomiser.html" title="Combines the input frame with a pseudo random sequence by XOR operation. The pseudo random sequence i...">ccsds_randomiser</a>.  <a href="#a446a1ed5519eb7b1e61fa4af0fa95f2b">More...</a><br/></td></tr>
<tr class="separator:a446a1ed5519eb7b1e61fa4af0fa95f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Combines the input frame with a pseudo random sequence by XOR operation. The pseudo random sequence is generated by an 8-bit linear feedback shift register as defined in ECSS. </p>
<p>The block has an input message port named "in" at which new frames can arrive. On arrival a new message is created consisting of the input message XORed with the pseudo random sequence. The LFSR is set to the initial <code>seed</code> state before every block.This new message is then queued in the output message port named "out". </p>

<p>Definition at line <a class="el" href="ccsds__randomiser_8h_source.html#l00059">59</a> of file <a class="el" href="ccsds__randomiser_8h_source.html">ccsds_randomiser.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6388f303c1baec67f0e37429166f83bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ccsds_randomiser::ccsds_randomiser </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>polynomial</em> = <code>0x95</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>seed</em> = <code>0xFF</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a668c672b22bba1bcd9fd27a49066afc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ccsds_randomiser::~ccsds_randomiser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public deconstructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a056ecc251a82e0a7f8ae7aa5c08b48dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ccsds_randomiser::get_next_byte </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform 8 updates on the LFSR and return it's output </p>

</div>
</div>
<a class="anchor" id="ab83e81f09aa6d4d42b24efc6646a9faa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ccsds_randomiser::process_frame </td>
          <td>(</td>
          <td class="paramtype">pmt::pmt_t&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asynchronous work function which is processing the queues. </p>

</div>
</div>
<a class="anchor" id="a5e7878d4af29d9c9da46c9e0cb7b4232"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ccsds_randomiser::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset LFSR to <code>d_SEED</code> state </p>

</div>
</div>
<a class="anchor" id="acd6d24aa9407175d5172647c00064291"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ccsds_randomiser::work </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>noutput_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr_vector_const_void_star &amp;&#160;</td>
          <td class="paramname"><em>input_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr_vector_void_star &amp;&#160;</td>
          <td class="paramname"><em>output_items</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dummy work function. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a446a1ed5519eb7b1e61fa4af0fa95f2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api_8h.html#a144137922962dd54ae2e8c1917a7e588">CCSDS_API</a> ccsds_randomiser_sptr ccsds_make_randomiser </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>polynomial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a shared_ptr to a new instance of <a class="el" href="classccsds__randomiser.html" title="Combines the input frame with a pseudo random sequence by XOR operation. The pseudo random sequence i...">ccsds_randomiser</a>. </p>
<p>Create an instance of <a class="el" href="classccsds__randomiser.html" title="Combines the input frame with a pseudo random sequence by XOR operation. The pseudo random sequence i...">ccsds_randomiser</a> and return it's shared_ptr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">polynomial</td><td>Polynomial that defines the network of the 8 shift registers. The MSB encodes whether the last shift register (which is used for the output) should be used to generate the new input while the LSB encodes whether the first shift register (that holds the input bit of the last step should be used to generate the output. Or in ECSS definition: The MSB holds the coefficient for x^0 up to the LSB which holds coefficient x^7. x^8 is not encoded as it is always set (due to the fact that this is a maximum length 8 bit shift register). The default value is 0x95 which corresponds to the randomiser defined in ECSS with the polynomial representation x^8+x^7+x^5+x^3+x^0. </td></tr>
    <tr><td class="paramname">seed</td><td>Initial state of the shift registers. MSB corresponds to the last register (which will be the output on the next step). Default to all ones as defined in ECSS. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer to the created block </dd></dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a631df0404e6e883aca1896b9f060e927"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t ccsds_randomiser::d_POLY</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Polynomial to define the LFSR network </p>

<p>Definition at line <a class="el" href="ccsds__randomiser_8h_source.html#l00082">82</a> of file <a class="el" href="ccsds__randomiser_8h_source.html">ccsds_randomiser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a82123b1f3210fdb02344ee1a75fffd10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t ccsds_randomiser::d_SEED</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initial state of the LFSR </p>

<p>Definition at line <a class="el" href="ccsds__randomiser_8h_source.html#l00085">85</a> of file <a class="el" href="ccsds__randomiser_8h_source.html">ccsds_randomiser.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac040a95627ae8252454b32a822d31746"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ccsds_randomiser::d_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Current state of the LFSR </p>

<p>Definition at line <a class="el" href="ccsds__randomiser_8h_source.html#l00088">88</a> of file <a class="el" href="ccsds__randomiser_8h_source.html">ccsds_randomiser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a994c8eb9880824c8e88f1435961e1196"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ccsds_randomiser::d_stop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flag to store whether EOF has been received or not </p>

<p>Definition at line <a class="el" href="ccsds__randomiser_8h_source.html#l00091">91</a> of file <a class="el" href="ccsds__randomiser_8h_source.html">ccsds_randomiser.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ccsds__randomiser_8h_source.html">ccsds_randomiser.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classccsds__randomiser.html">ccsds_randomiser</a></li>
    <li class="footer">Generated on Mon Nov 30 2015 22:33:44 for GNU Radio&#39;s CCSDS Package by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
