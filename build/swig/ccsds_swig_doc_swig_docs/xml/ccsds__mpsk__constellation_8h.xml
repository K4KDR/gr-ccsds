<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="ccsds__mpsk__constellation_8h" kind="file">
    <compoundname>ccsds_mpsk_constellation.h</compoundname>
    <includes local="no">gr_complex.h</includes>
    <includes local="no">stdio.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes local="no">math.h</includes>
    <incdepgraph>
      <node id="358">
        <label>stdlib.h</label>
      </node>
      <node id="356">
        <label>gr_complex.h</label>
      </node>
      <node id="355">
        <label>/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h</label>
        <link refid="ccsds_mpsk_constellation.h"/>
        <childnode refid="356" relation="include">
        </childnode>
        <childnode refid="357" relation="include">
        </childnode>
        <childnode refid="358" relation="include">
        </childnode>
        <childnode refid="359" relation="include">
        </childnode>
      </node>
      <node id="359">
        <label>math.h</label>
      </node>
      <node id="357">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1ae4442da05edb1fe1ce384a033eee3cdc" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>unsigned int</type>
        <definition>unsigned int togray</definition>
        <argsstring>(const unsigned int binary)</argsstring>
        <name>togray</name>
        <param>
          <type>const unsigned int</type>
          <declname>binary</declname>
        </param>
        <briefdescription>
<para>Converts binary number into corresponding gray coded number. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>binary</parametername>
</parameternamelist>
<parameterdescription>
<para>Binary coded number to transform into a gray coded number. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Gray coded number</para></simplesect>
Code from <ulink url="http://en.wikipedia.org/wiki/Grey_code#Converting_to_and_from_Gray_code">http://en.wikipedia.org/wiki/Grey_code#Converting_to_and_from_Gray_code</ulink> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="17" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="17" bodyend="19"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1afc32e5bda290f367dfbab75fe4f21c88" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>unsigned int</type>
        <definition>unsigned int tobinary</definition>
        <argsstring>(unsigned int num)</argsstring>
        <name>tobinary</name>
        <param>
          <type>unsigned int</type>
          <declname>num</declname>
        </param>
        <briefdescription>
<para>Converts gray coded number into corresponding binary number. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>num</parametername>
</parameternamelist>
<parameterdescription>
<para>Gray coded number to transform into a binary number. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Binary coded number</para></simplesect>
Code from <ulink url="http://en.wikipedia.org/wiki/Grey_code#Converting_to_and_from_Gray_code">http://en.wikipedia.org/wiki/Grey_code#Converting_to_and_from_Gray_code</ulink> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="28" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="28" bodyend="36"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1a9489c801fb29215d5cb0d41016ad174a" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>gr_complex *</type>
        <definition>gr_complex* ccsds_make_psk_const</definition>
        <argsstring>(unsigned int M)</argsstring>
        <name>ccsds_make_psk_const</name>
        <param>
          <type>unsigned int</type>
          <declname>M</declname>
        </param>
        <briefdescription>
<para>Create general M-PSK constellation. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>M</parametername>
</parameternamelist>
<parameterdescription>
<para>Modulation order. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to array of <computeroutput>M</computeroutput> constellation elements, allocated with new. This array must be deallocated with delete[] after usage.</para></simplesect>
Gray coded M-PSK constellation starting with zero symbol on the real axis and rotating counterclockwise afterwards. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="48" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="48" bodyend="77"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1a43e53cb146351f6050d2d34cb73f91a2" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>gr_complex *</type>
        <definition>gr_complex* ccsds_make_qpsk_const</definition>
        <argsstring>(void)</argsstring>
        <name>ccsds_make_qpsk_const</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Create QPSK constellation according to ECSS-E-ST-50-05C. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>Pointer to array of 4 constellation elements, allocated with new. This array must be deallocated with delete[] after usage.</para></simplesect>
In contrast to the general M-PSK constellation above, ECSS QPSK mapping is in reverse direction and rotated by 45 degree, so this constellation is created manually.</para><para>According to ECSS-E-ST-50-05C Rev.2 from 4th October 2011, Figure 6-3 </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="92" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="92" bodyend="105"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1a07357d9036497b0f6708aaa4b38f0301" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>gr_complex *</type>
        <definition>gr_complex* ccsds_make_mpsk_const</definition>
        <argsstring>(unsigned int M)</argsstring>
        <name>ccsds_make_mpsk_const</name>
        <param>
          <type>unsigned int</type>
          <declname>M</declname>
        </param>
        <briefdescription>
<para>Convenience wrapper to generate a ECSS compatible M-PSK constellation. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>M</parametername>
</parameternamelist>
<parameterdescription>
<para>Modulation order. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to array of <computeroutput>M</computeroutput> constellation elements, allocated with new. This array must be deallocated with delete[] after usage. </para></simplesect>
<simplesect kind="see"><para>ccsds_make_psk_cons </para><simplesectsep/><para><ref refid="ccsds__mpsk__constellation_8h_1a43e53cb146351f6050d2d34cb73f91a2" kindref="member">ccsds_make_qpsk_const</ref></para></simplesect>
Create a M-PSK constellation. For M=4 i.e. QPSK <ref refid="ccsds__mpsk__constellation_8h_1a43e53cb146351f6050d2d34cb73f91a2" kindref="member">ccsds_make_qpsk_const</ref>, otherwise <ref refid="ccsds__mpsk__constellation_8h_1a9489c801fb29215d5cb0d41016ad174a" kindref="member">ccsds_make_psk_const</ref> is called </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="120" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="120" bodyend="127"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1a1191c023e639433f65deda471c398f41" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>unsigned char *</type>
        <definition>unsigned char* ccsds_make_psk_map</definition>
        <argsstring>(unsigned int M)</argsstring>
        <name>ccsds_make_psk_map</name>
        <param>
          <type>unsigned int</type>
          <declname>M</declname>
        </param>
        <briefdescription>
<para>Create general M-PSK mapping. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>M</parametername>
</parameternamelist>
<parameterdescription>
<para>Modulation order. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to array of <computeroutput>M</computeroutput> constellation bits, allocated with new. This array must be deallocated with delete[] after usage.</para></simplesect>
M-PSK constellation mapping with binary coded index and gray coded output. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="138" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="138" bodyend="157"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1a585a11dfd6f96bcc43d23dc1538837dd" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>unsigned char *</type>
        <definition>unsigned char* ccsds_make_qpsk_map</definition>
        <argsstring>(void)</argsstring>
        <name>ccsds_make_qpsk_map</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Create QPSK constellation mapping according to ECSS-E-ST-50-05C. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>Pointer to array of 4 elements, mapping binary indices to gray coded bits. This array is allocated with new and must be deallocated with delete[] after usage.</para></simplesect>
In contrast to the general M-PSK mapping above, ECSS QPSK mapping is in reverse direction and rotated by 45 degree, so this constellation is created manually.</para><para>According to ECSS-E-ST-50-05C Rev.2 from 4th October 2011, Figure 6-3 </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="172" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="172" bodyend="182"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1aa9975f524c5fb5c698641e752901d79a" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>unsigned char *</type>
        <definition>unsigned char* ccsds_make_mpsk_map</definition>
        <argsstring>(unsigned int M)</argsstring>
        <name>ccsds_make_mpsk_map</name>
        <param>
          <type>unsigned int</type>
          <declname>M</declname>
        </param>
        <briefdescription>
<para>Convenience wrapper to generate a ECSS compatible M-PSK constellation mapping. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>M</parametername>
</parameternamelist>
<parameterdescription>
<para>Modulation order. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to array of <computeroutput>M</computeroutput> elements, mapping binary constellation indices to gray coded bits. This array is allocated with new and must be deallocated with delete[] after usage.</para></simplesect>
<simplesect kind="see"><para>ccsds_make_psk_cons </para><simplesectsep/><para><ref refid="ccsds__mpsk__constellation_8h_1a43e53cb146351f6050d2d34cb73f91a2" kindref="member">ccsds_make_qpsk_const</ref></para></simplesect>
Create a M-PSK constellation mapping. For M=4 i.e. QPSK <ref refid="ccsds__mpsk__constellation_8h_1a585a11dfd6f96bcc43d23dc1538837dd" kindref="member">ccsds_make_qpsk_map</ref>, otherwise <ref refid="ccsds__mpsk__constellation_8h_1a1191c023e639433f65deda471c398f41" kindref="member">ccsds_make_psk_map</ref> is called </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="199" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="199" bodyend="205"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1ad9f13da19526102bea4795e1c850a051" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>unsigned char *</type>
        <definition>unsigned char* ccsds_make_psk_rev_map</definition>
        <argsstring>(unsigned int M)</argsstring>
        <name>ccsds_make_psk_rev_map</name>
        <param>
          <type>unsigned int</type>
          <declname>M</declname>
        </param>
        <briefdescription>
<para>Create general reverse M-PSK mapping. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>M</parametername>
</parameternamelist>
<parameterdescription>
<para>Modulation order. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to array of <computeroutput>M</computeroutput> constellation bits, allocated with new. This array must be deallocated with delete[] after usage.</para></simplesect>
Reverse M-PSK constellation mapping with gray coded index and binary coded output. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="217" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="217" bodyend="236"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1a523418e46b00d348b98cb4541954ece6" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>unsigned char *</type>
        <definition>unsigned char* ccsds_make_qpsk_rev_map</definition>
        <argsstring>(void)</argsstring>
        <name>ccsds_make_qpsk_rev_map</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Create reverse QPSK constellation mapping according to ECSS-E-ST-50-05C. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>Pointer to array of 4 elements, mapping gray coded indices to binary coded bits. This array is allocated with new and must be deallocated with delete[] after usage.</para></simplesect>
In contrast to the general reverse M-PSK mapping above, ECSS QPSK mapping is in reverse direction and rotated by 45 degree, so this mapping is created manually.</para><para>According to ECSS-E-ST-50-05C Rev.2 from 4th October 2011, Figure 6-3 </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="251" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="251" bodyend="261"/>
      </memberdef>
      <memberdef kind="function" id="ccsds__mpsk__constellation_8h_1ad4cb0ebfcb258ea115dafe80a4d49267" prot="public" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>unsigned char *</type>
        <definition>unsigned char* ccsds_make_mpsk_rev_map</definition>
        <argsstring>(unsigned int M)</argsstring>
        <name>ccsds_make_mpsk_rev_map</name>
        <param>
          <type>unsigned int</type>
          <declname>M</declname>
        </param>
        <briefdescription>
<para>Convenience wrapper to generate a ECSS compatible reverse M-PSK constellation mapping. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>M</parametername>
</parameternamelist>
<parameterdescription>
<para>Modulation order. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to array of <computeroutput>M</computeroutput> elements, mapping cray coded bits to binary coded constellation indices. This array is allocated with new and must be deallocated with delete[] after usage.</para></simplesect>
<simplesect kind="see"><para>ccsds_make_psk_cons </para><simplesectsep/><para><ref refid="ccsds__mpsk__constellation_8h_1a43e53cb146351f6050d2d34cb73f91a2" kindref="member">ccsds_make_qpsk_const</ref></para></simplesect>
Create a reverse M-PSK constellation mapping. For M=4 i.e. QPSK <ref refid="ccsds__mpsk__constellation_8h_1a523418e46b00d348b98cb4541954ece6" kindref="member">ccsds_make_qpsk_rev_map</ref>, otherwise <ref refid="ccsds__mpsk__constellation_8h_1ad9f13da19526102bea4795e1c850a051" kindref="member">ccsds_make_psk_rev_map</ref> is called </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" line="278" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h" bodystart="278" bodyend="284"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>INCLUDED_CCSDS_MPSK_CONST_H</highlight></codeline>
<codeline lineno="2"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>INCLUDED_CCSDS_MPSK_CONST_H</highlight></codeline>
<codeline lineno="3"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;gr_complex.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="17" refid="ccsds__mpsk__constellation_8h_1ae4442da05edb1fe1ce384a033eee3cdc" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="ccsds__mpsk__constellation_8h_1ae4442da05edb1fe1ce384a033eee3cdc" kindref="member">togray</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>binary)<sp/>{</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(binary<sp/>&gt;&gt;<sp/>1)<sp/>^<sp/>binary;</highlight></codeline>
<codeline lineno="19"><highlight class="normal">}</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="ccsds__mpsk__constellation_8h_1afc32e5bda290f367dfbab75fe4f21c88" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="ccsds__mpsk__constellation_8h_1afc32e5bda290f367dfbab75fe4f21c88" kindref="member">tobinary</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num)<sp/>{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numBits<sp/>=<sp/>8<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(num);</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>shift;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(shift<sp/>=<sp/>1;<sp/>shift<sp/>&lt;<sp/>numBits;<sp/>shift<sp/>=<sp/>2<sp/>*<sp/>shift)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num<sp/>=<sp/>num<sp/>^<sp/>(num<sp/>&gt;&gt;<sp/>shift);</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>num;</highlight></codeline>
<codeline lineno="36"><highlight class="normal">}</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="48" refid="ccsds__mpsk__constellation_8h_1a9489c801fb29215d5cb0d41016ad174a" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>gr_complex*<sp/><ref refid="ccsds__mpsk__constellation_8h_1a9489c801fb29215d5cb0d41016ad174a" kindref="member">ccsds_make_psk_const</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>)<sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>create<sp/>phasor<sp/>for<sp/>rotation<sp/>between<sp/>the<sp/>symbols</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>gr_complex<sp/>diff_phasor<sp/>=<sp/>gr_complex(cos(2*M_PI/M),sin(2*M_PI/M));</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>initial<sp/>phasor<sp/>is<sp/>on<sp/>the<sp/>real<sp/>axis</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr_complex<sp/>phasor<sp/>=<sp/>gr_complex(1.0f,0.0f);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>make<sp/>sure<sp/>we<sp/>only<sp/>have<sp/>abs(.)=1<sp/>phasors</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>phasor<sp/>=<sp/>phasor<sp/>/<sp/>std::abs(phasor);</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>allocate<sp/>memory<sp/>for<sp/>the<sp/>constellation<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr_complex<sp/>*map<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>gr_complex[<ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>];</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>go<sp/>through<sp/>all<sp/>constellation<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;<ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>;i++)<sp/>{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i_gray<sp/>=<sp/><ref refid="ccsds__mpsk__constellation_8h_1ae4442da05edb1fe1ce384a033eee3cdc" kindref="member">togray</ref>(i);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>the<sp/>next<sp/>access<sp/>is<sp/>valid<sp/>(not<sp/>true<sp/>for<sp/>e.g<sp/>M=3)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(i_gray<sp/>&gt;=<sp/>M)<sp/>{</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;ERROR:<sp/>modulation<sp/>order<sp/>M=%d<sp/>not<sp/>supported.<sp/>M<sp/>needs<sp/>to<sp/>be<sp/>a<sp/>power<sp/>of<sp/>two.\n&quot;</highlight><highlight class="normal">,M);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(EXIT_FAILURE);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>constellation<sp/>point</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[i_gray]<sp/>=<sp/>phasor;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>rotate<sp/>to<sp/>next<sp/>point</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>phasor<sp/>*=<sp/>diff_phasor;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>map;</highlight></codeline>
<codeline lineno="77"><highlight class="normal">}</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="92" refid="ccsds__mpsk__constellation_8h_1a43e53cb146351f6050d2d34cb73f91a2" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>gr_complex*<sp/><ref refid="ccsds__mpsk__constellation_8h_1a43e53cb146351f6050d2d34cb73f91a2" kindref="member">ccsds_make_qpsk_const</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>allocate<sp/>meory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gr_complex<sp/>*map<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>gr_complex[4];</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>scale<sp/>factor<sp/>to<sp/>normalize<sp/>constellation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>scale<sp/>=<sp/>1.0/sqrt(2.0);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[0]<sp/>=<sp/>gr_complex(<sp/>1.0f,<sp/>1.0f)<sp/>*<sp/>scale;</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[1]<sp/>=<sp/>gr_complex(<sp/>1.0f,-1.0f)<sp/>*<sp/>scale;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[2]<sp/>=<sp/>gr_complex(-1.0f,<sp/>1.0f)<sp/>*<sp/>scale;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[3]<sp/>=<sp/>gr_complex(-1.0f,-1.0f)<sp/>*<sp/>scale;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>map;</highlight></codeline>
<codeline lineno="105"><highlight class="normal">}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="120" refid="ccsds__mpsk__constellation_8h_1a07357d9036497b0f6708aaa4b38f0301" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/>gr_complex*<sp/><ref refid="ccsds__mpsk__constellation_8h_1a07357d9036497b0f6708aaa4b38f0301" kindref="member">ccsds_make_mpsk_const</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>)<sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//printf(&quot;\n++<sp/>Creating<sp/>constelation<sp/>for<sp/>%u-PSK++\n&quot;,M);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(M<sp/>==<sp/>4)<sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ccsds__mpsk__constellation_8h_1a43e53cb146351f6050d2d34cb73f91a2" kindref="member">ccsds_make_qpsk_const</ref>();</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ccsds__mpsk__constellation_8h_1a9489c801fb29215d5cb0d41016ad174a" kindref="member">ccsds_make_psk_const</ref>(M);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="127"><highlight class="normal">}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="138" refid="ccsds__mpsk__constellation_8h_1a1191c023e639433f65deda471c398f41" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="ccsds__mpsk__constellation_8h_1a1191c023e639433f65deda471c398f41" kindref="member">ccsds_make_psk_map</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>)<sp/>{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>allocate<sp/>memory<sp/>for<sp/>the<sp/>constellation<sp/>mapping</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*map<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[<ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>];</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>go<sp/>through<sp/>all<sp/>constellation<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;<ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>;i++)<sp/>{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i_gray<sp/>=<sp/><ref refid="ccsds__mpsk__constellation_8h_1ae4442da05edb1fe1ce384a033eee3cdc" kindref="member">togray</ref>(i);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>the<sp/>next<sp/>access<sp/>is<sp/>valid<sp/>(not<sp/>true<sp/>for<sp/>e.g<sp/>M=3)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(i_gray<sp/>&gt;=<sp/>M)<sp/>{</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;ERROR:<sp/>modulation<sp/>order<sp/>M=%d<sp/>not<sp/>supported.<sp/>M<sp/>needs<sp/>to<sp/>be<sp/>a<sp/>power<sp/>of<sp/>two.\n&quot;</highlight><highlight class="normal">,M);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(EXIT_FAILURE);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>constellation<sp/>mapping</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[i]<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>char)i_gray;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>map;</highlight></codeline>
<codeline lineno="157"><highlight class="normal">}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="172" refid="ccsds__mpsk__constellation_8h_1a585a11dfd6f96bcc43d23dc1538837dd" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="ccsds__mpsk__constellation_8h_1a585a11dfd6f96bcc43d23dc1538837dd" kindref="member">ccsds_make_qpsk_map</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>allocate<sp/>meory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*map<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[4];</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[0]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[1]<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[2]<sp/>=<sp/>3;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[3]<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>map;</highlight></codeline>
<codeline lineno="182"><highlight class="normal">}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="199" refid="ccsds__mpsk__constellation_8h_1aa9975f524c5fb5c698641e752901d79a" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="ccsds__mpsk__constellation_8h_1aa9975f524c5fb5c698641e752901d79a" kindref="member">ccsds_make_mpsk_map</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>)<sp/>{</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(M<sp/>==<sp/>4)<sp/>{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ccsds__mpsk__constellation_8h_1a585a11dfd6f96bcc43d23dc1538837dd" kindref="member">ccsds_make_qpsk_map</ref>();</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ccsds__mpsk__constellation_8h_1a1191c023e639433f65deda471c398f41" kindref="member">ccsds_make_psk_map</ref>(M);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal">}</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="217" refid="ccsds__mpsk__constellation_8h_1ad9f13da19526102bea4795e1c850a051" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="ccsds__mpsk__constellation_8h_1ad9f13da19526102bea4795e1c850a051" kindref="member">ccsds_make_psk_rev_map</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>)<sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>allocate<sp/>memory<sp/>for<sp/>the<sp/>constellation<sp/>mapping</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*map<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[<ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>];</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>go<sp/>through<sp/>all<sp/>constellation<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;i&lt;<ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>;i++)<sp/>{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i_bin<sp/>=<sp/><ref refid="ccsds__mpsk__constellation_8h_1afc32e5bda290f367dfbab75fe4f21c88" kindref="member">tobinary</ref>(i);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>the<sp/>next<sp/>access<sp/>is<sp/>valid<sp/>(not<sp/>true<sp/>for<sp/>e.g<sp/>M=3)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(i_bin<sp/>&gt;=<sp/>M)<sp/>{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;ERROR:<sp/>modulation<sp/>order<sp/>M=%d<sp/>not<sp/>supported.<sp/>M<sp/>needs<sp/>to<sp/>be<sp/>a<sp/>power<sp/>of<sp/>two.\n&quot;</highlight><highlight class="normal">,M);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(EXIT_FAILURE);</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>constellation<sp/>mapping</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[i]<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>char)i_bin;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>map;</highlight></codeline>
<codeline lineno="236"><highlight class="normal">}</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="251" refid="ccsds__mpsk__constellation_8h_1a523418e46b00d348b98cb4541954ece6" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="ccsds__mpsk__constellation_8h_1a523418e46b00d348b98cb4541954ece6" kindref="member">ccsds_make_qpsk_rev_map</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>allocate<sp/>meory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*map<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">[4];</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[0]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[1]<sp/>=<sp/>3;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[2]<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>map[3]<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>map;</highlight></codeline>
<codeline lineno="261"><highlight class="normal">}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="278" refid="ccsds__mpsk__constellation_8h_1ad4cb0ebfcb258ea115dafe80a4d49267" refkind="member"><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="ccsds__mpsk__constellation_8h_1ad4cb0ebfcb258ea115dafe80a4d49267" kindref="member">ccsds_make_mpsk_rev_map</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>)<sp/>{</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(M<sp/>==<sp/>4)<sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ccsds__mpsk__constellation_8h_1a523418e46b00d348b98cb4541954ece6" kindref="member">ccsds_make_qpsk_rev_map</ref>();</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ccsds__mpsk__constellation_8h_1ad9f13da19526102bea4795e1c850a051" kindref="member">ccsds_make_psk_rev_map</ref>(M);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal">}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>INCLUDED_CCSDS_MPSK_CONST_H<sp/>*/</highlight><highlight class="preprocessor"></highlight></codeline>
    </programlisting>
    <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/lib/ccsds_mpsk_constellation.h"/>
  </compounddef>
</doxygen>
