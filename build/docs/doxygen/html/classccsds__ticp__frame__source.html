<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNU Radio&#39;s CCSDS Package: ccsds_ticp_frame_source Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio&#39;s CCSDS Package
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classccsds__ticp__frame__source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">ccsds_ticp_frame_source Class Reference<div class="ingroups"><a class="el" href="group__ticp.html">CCSDS TICP blocks</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Reads frames from a TicpServer and outputs it as a stream.  
 <a href="classccsds__ticp__frame__source.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ccsds_ticp_frame_source:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classccsds__ticp__frame__source.png" usemap="#ccsds_ticp_frame_source_map" alt=""/>
  <map id="ccsds_ticp_frame_source_map" name="ccsds_ticp_frame_source_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac59e4e5f915919b2e10f5e0eb9650958"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#ac59e4e5f915919b2e10f5e0eb9650958">~ccsds_ticp_frame_source</a> ()</td></tr>
<tr class="memdesc:ac59e4e5f915919b2e10f5e0eb9650958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public deconstructor of the ticp frame source.  <a href="#ac59e4e5f915919b2e10f5e0eb9650958">More...</a><br/></td></tr>
<tr class="separator:ac59e4e5f915919b2e10f5e0eb9650958"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad813acadd28f3eab880c086498f689ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#ad813acadd28f3eab880c086498f689ce">ccsds_ticp_frame_source</a> (std::string hostname, unsigned int port, const unsigned int frame_length, const uint8_t data_type, std::vector&lt; std::string &gt; map_names, std::vector&lt; uint8_t &gt; map_types, const double frame_rate=0.0)</td></tr>
<tr class="memdesc:ad813acadd28f3eab880c086498f689ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private constructor of the TICP frame source.  <a href="#ad813acadd28f3eab880c086498f689ce">More...</a><br/></td></tr>
<tr class="separator:ad813acadd28f3eab880c086498f689ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2d004226802713c3189c3e182413aa0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#ad2d004226802713c3189c3e182413aa0">asynchronous_work</a> (void)</td></tr>
<tr class="memdesc:ad2d004226802713c3189c3e182413aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous work function which is processing the queues.  <a href="#ad2d004226802713c3189c3e182413aa0">More...</a><br/></td></tr>
<tr class="separator:ad2d004226802713c3189c3e182413aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa2e61836730ed5284333456f255eba4c"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#aa2e61836730ed5284333456f255eba4c">d_FRAME_LEN</a></td></tr>
<tr class="memdesc:aa2e61836730ed5284333456f255eba4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of a frame in bytes.  <a href="#aa2e61836730ed5284333456f255eba4c">More...</a><br/></td></tr>
<tr class="separator:aa2e61836730ed5284333456f255eba4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43554f5fd17e4173a19fbedda81058fb"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a43554f5fd17e4173a19fbedda81058fb">d_DATA_TYPE</a></td></tr>
<tr class="memdesc:a43554f5fd17e4173a19fbedda81058fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the dataset's data that should be used as PDU payload.  <a href="#a43554f5fd17e4173a19fbedda81058fb">More...</a><br/></td></tr>
<tr class="separator:a43554f5fd17e4173a19fbedda81058fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab043580c1e4bca9354f73fe046dffa27"><td class="memItemLeft" align="right" valign="top">const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#ab043580c1e4bca9354f73fe046dffa27">d_FRAME_RATE</a></td></tr>
<tr class="memdesc:ab043580c1e4bca9354f73fe046dffa27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum frame rate in frames per second.  <a href="#ab043580c1e4bca9354f73fe046dffa27">More...</a><br/></td></tr>
<tr class="separator:ab043580c1e4bca9354f73fe046dffa27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da71b27a2c5366159f4534d7beb3c71"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a8da71b27a2c5366159f4534d7beb3c71">d_RATE_CONTROL</a></td></tr>
<tr class="memdesc:a8da71b27a2c5366159f4534d7beb3c71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag whether or not to apply rate control.  <a href="#a8da71b27a2c5366159f4534d7beb3c71">More...</a><br/></td></tr>
<tr class="separator:a8da71b27a2c5366159f4534d7beb3c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee14442038d3cdf4f5f1d79e4bae12a"><td class="memItemLeft" align="right" valign="top">const unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#acee14442038d3cdf4f5f1d79e4bae12a">d_TIME_PER_FRAME</a></td></tr>
<tr class="memdesc:acee14442038d3cdf4f5f1d79e4bae12a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time in nanoseconds a frame needs for transmission.  <a href="#acee14442038d3cdf4f5f1d79e4bae12a">More...</a><br/></td></tr>
<tr class="separator:acee14442038d3cdf4f5f1d79e4bae12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6329acda8eaba8e283536e990020bc52"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint8_t, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a6329acda8eaba8e283536e990020bc52">d_metadata_map</a></td></tr>
<tr class="memdesc:a6329acda8eaba8e283536e990020bc52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map to store the metadata mapping in.  <a href="#a6329acda8eaba8e283536e990020bc52">More...</a><br/></td></tr>
<tr class="separator:a6329acda8eaba8e283536e990020bc52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3a3eb5f6d8c4f5116770b707d7b22a"><td class="memItemLeft" align="right" valign="top">timeval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a6a3a3eb5f6d8c4f5116770b707d7b22a">d_rate_time_ref</a></td></tr>
<tr class="memdesc:a6a3a3eb5f6d8c4f5116770b707d7b22a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time instance to which the frame counter refers.  <a href="#a6a3a3eb5f6d8c4f5116770b707d7b22a">More...</a><br/></td></tr>
<tr class="separator:a6a3a3eb5f6d8c4f5116770b707d7b22a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a84f298ff45da60a69642db0a30848"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a54a84f298ff45da60a69642db0a30848">d_rate_frame_count</a></td></tr>
<tr class="memdesc:a54a84f298ff45da60a69642db0a30848"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of frames that have been transmitted since <code>d_rate_time_ref</code>.  <a href="#a54a84f298ff45da60a69642db0a30848">More...</a><br/></td></tr>
<tr class="separator:a54a84f298ff45da60a69642db0a30848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0257d13fc54d779442cb30925e6468"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a7a0257d13fc54d779442cb30925e6468">d_mutex</a></td></tr>
<tr class="memdesc:a7a0257d13fc54d779442cb30925e6468"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to lock access on <code>d_stop</code> between GNURadio and this block's worker thread.  <a href="#a7a0257d13fc54d779442cb30925e6468">More...</a><br/></td></tr>
<tr class="separator:a7a0257d13fc54d779442cb30925e6468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b37e3b3ccc9a5ffebe46288dc561728"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a3b37e3b3ccc9a5ffebe46288dc561728">d_stop</a></td></tr>
<tr class="memdesc:a3b37e3b3ccc9a5ffebe46288dc561728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate the worker thread to stop working.  <a href="#a3b37e3b3ccc9a5ffebe46288dc561728">More...</a><br/></td></tr>
<tr class="separator:a3b37e3b3ccc9a5ffebe46288dc561728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f88fc5888a8278a3721b365887c2810"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; boost::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a7f88fc5888a8278a3721b365887c2810">d_worker_thread</a></td></tr>
<tr class="memdesc:a7f88fc5888a8278a3721b365887c2810"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to the worker thread.  <a href="#a7f88fc5888a8278a3721b365887c2810">More...</a><br/></td></tr>
<tr class="separator:a7f88fc5888a8278a3721b365887c2810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff3f78792a6685e8b2faeca83c1928c"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#a6ff3f78792a6685e8b2faeca83c1928c">d_frame_count</a></td></tr>
<tr class="separator:a6ff3f78792a6685e8b2faeca83c1928c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae733e66511233385634aa1d775283f73"><td class="memItemLeft" align="right" valign="top">asynchronous_start&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#ae733e66511233385634aa1d775283f73">d_astart</a></td></tr>
<tr class="memdesc:ae733e66511233385634aa1d775283f73"><td class="mdescLeft">&#160;</td><td class="mdescRight">workarround to ensure we only start transmitting, when the flowgraph is started.  <a href="#ae733e66511233385634aa1d775283f73">More...</a><br/></td></tr>
<tr class="separator:ae733e66511233385634aa1d775283f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ac6c859a1672f78bd839287eb60c72790"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api_8h.html#a144137922962dd54ae2e8c1917a7e588">CCSDS_API</a> <br class="typebreak"/>
ccsds_ticp_frame_source_sptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__ticp__frame__source.html#ac6c859a1672f78bd839287eb60c72790">ccsds_make_ticp_frame_source</a> (std::string hostname, unsigned int port, const unsigned int frame_length, const uint8_t data_type, std::vector&lt; std::string &gt; map_names, std::vector&lt; uint8_t &gt; map_types, const double frame_rate)</td></tr>
<tr class="memdesc:ac6c859a1672f78bd839287eb60c72790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a shared_ptr to a new instance of <a class="el" href="classccsds__ticp__frame__source.html" title="Reads frames from a TicpServer and outputs it as a stream. ">ccsds_ticp_frame_source</a>.  <a href="#ac6c859a1672f78bd839287eb60c72790">More...</a><br/></td></tr>
<tr class="separator:ac6c859a1672f78bd839287eb60c72790"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Reads frames from a TicpServer and outputs it as a stream. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00066">66</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad813acadd28f3eab880c086498f689ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ccsds_ticp_frame_source::ccsds_ticp_frame_source </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>frame_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>data_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>map_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;&#160;</td>
          <td class="paramname"><em>map_types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>frame_rate</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private constructor of the TICP frame source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostname</td><td>Hostname of the TicpServer from which to get the data. </td></tr>
    <tr><td class="paramname">port</td><td>Port of the TicpServer </td></tr>
    <tr><td class="paramname">frame_length</td><td>Length of a frame in bytes. should be copied to. </td></tr>
    <tr><td class="paramname">data_type</td><td>Type of the dataset which's data should be used for the actuall output data. </td></tr>
    <tr><td class="paramname">map_names</td><td>Vector of names that should be used for the PDU header metadata identifier. Can be empty. Must have the same length as map_types. All elements in this vector must be unique. </td></tr>
    <tr><td class="paramname">map_types</td><td>Vector of datatypes that should be extracted into the PDU header. Can be empty. Must have the same length as map_names. All elements in this vector must be unique. </td></tr>
    <tr><td class="paramname">frame_rate</td><td>Rate in frames per second at which new frames should be requested from the TICP server. This provides an upper bound for the frame rate, based on the data received from the TICP server the actual rate can be lower. If set to 0.0, no rate limitation is applied and the frames are read in and send out as fast as possible. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac59e4e5f915919b2e10f5e0eb9650958"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ccsds_ticp_frame_source::~ccsds_ticp_frame_source </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public deconstructor of the ticp frame source. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad2d004226802713c3189c3e182413aa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ccsds_ticp_frame_source::asynchronous_work </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asynchronous work function which is processing the queues. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="ac6c859a1672f78bd839287eb60c72790"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api_8h.html#a144137922962dd54ae2e8c1917a7e588">CCSDS_API</a> ccsds_ticp_frame_source_sptr ccsds_make_ticp_frame_source </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>frame_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>data_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>map_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;&#160;</td>
          <td class="paramname"><em>map_types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>frame_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a shared_ptr to a new instance of <a class="el" href="classccsds__ticp__frame__source.html" title="Reads frames from a TicpServer and outputs it as a stream. ">ccsds_ticp_frame_source</a>. </p>
<p>Create an instance of <a class="el" href="classccsds__ticp__frame__source.html" title="Reads frames from a TicpServer and outputs it as a stream. ">ccsds_ticp_frame_source</a> and return it's shared_ptr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostname</td><td>Hostname of the TicpServer from which to get the data. </td></tr>
    <tr><td class="paramname">port</td><td>Port of the TicpServer </td></tr>
    <tr><td class="paramname">frame_length</td><td>Length of a frame in bytes. should be copied to. </td></tr>
    <tr><td class="paramname">data_type</td><td>Type of the dataset which's data should be used for the actuall output data. </td></tr>
    <tr><td class="paramname">map_names</td><td>Vector of names that should be used for the PDU header metadata identifier. Can be empty. Must have the same length as map_types. All elements in this vector must be unique. </td></tr>
    <tr><td class="paramname">map_types</td><td>Vector of datatypes that should be extracted into the PDU header. Can be empty. Must have the same length as map_names. All elements in this vector must be unique. </td></tr>
    <tr><td class="paramname">frame_rate</td><td>Rate in frames per second at which new frames should be requested from the TICP server. This provides an upper bound for the frame rate, based on the data received from the TICP server the actual rate can be lower. If set to 0.0, no rate limitation is applied and the frames are read in and send out as fast as possible. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer to the created AR block </dd></dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ae733e66511233385634aa1d775283f73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">asynchronous_start ccsds_ticp_frame_source::d_astart</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>workarround to ensure we only start transmitting, when the flowgraph is started. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000019">Todo:</a></b></dt><dd>reove workarround </dd></dl>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00167">167</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a43554f5fd17e4173a19fbedda81058fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t ccsds_ticp_frame_source::d_DATA_TYPE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type of the dataset's data that should be used as PDU payload. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00098">98</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6ff3f78792a6685e8b2faeca83c1928c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ccsds_ticp_frame_source::d_frame_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00157">157</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa2e61836730ed5284333456f255eba4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int ccsds_ticp_frame_source::d_FRAME_LEN</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Length of a frame in bytes. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00095">95</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab043580c1e4bca9354f73fe046dffa27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double ccsds_ticp_frame_source::d_FRAME_RATE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum frame rate in frames per second. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00101">101</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6329acda8eaba8e283536e990020bc52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint8_t, std::string&gt; ccsds_ticp_frame_source::d_metadata_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map to store the metadata mapping in. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00113">113</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7a0257d13fc54d779442cb30925e6468"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex ccsds_ticp_frame_source::d_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex to lock access on <code>d_stop</code> between GNURadio and this block's worker thread. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classccsds__ticp__frame__source.html#a3b37e3b3ccc9a5ffebe46288dc561728" title="Flag to indicate the worker thread to stop working. ">d_stop</a> </dd></dl>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00129">129</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8da71b27a2c5366159f4534d7beb3c71"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool ccsds_ticp_frame_source::d_RATE_CONTROL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag whether or not to apply rate control. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00104">104</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a54a84f298ff45da60a69642db0a30848"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ccsds_ticp_frame_source::d_rate_frame_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of frames that have been transmitted since <code>d_rate_time_ref</code>. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00122">122</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6a3a3eb5f6d8c4f5116770b707d7b22a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">timeval ccsds_ticp_frame_source::d_rate_time_ref</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time instance to which the frame counter refers. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00116">116</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3b37e3b3ccc9a5ffebe46288dc561728"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ccsds_ticp_frame_source::d_stop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag to indicate the worker thread to stop working. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classccsds__ticp__frame__source.html#a7a0257d13fc54d779442cb30925e6468" title="Mutex to lock access on d_stop between GNURadio and this block&#39;s worker thread. ">d_mutex</a></dd></dl>
<p>Access to this flag is controled by <code>d_mutex</code>. Default is <em>false</em>, if <em>true</em> the worker thread will return. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00138">138</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="acee14442038d3cdf4f5f1d79e4bae12a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long ccsds_ticp_frame_source::d_TIME_PER_FRAME</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time in nanoseconds a frame needs for transmission. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00107">107</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7f88fc5888a8278a3721b365887c2810"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;boost::thread&gt; ccsds_ticp_frame_source::d_worker_thread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reference to the worker thread. </p>

<p>Definition at line <a class="el" href="ccsds__ticp__frame__source_8h_source.html#l00141">141</a> of file <a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ccsds__ticp__frame__source_8h_source.html">ccsds_ticp_frame_source.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classccsds__ticp__frame__source.html">ccsds_ticp_frame_source</a></li>
    <li class="footer">Generated on Mon Nov 30 2015 22:33:44 for GNU Radio&#39;s CCSDS Package by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
