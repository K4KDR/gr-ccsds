<?xml version="1.0"?>
<block>
  <name>Symbol to Softbits encoder (CCSDS)</name>
  <key>ccsds_sym_to_softbits_bf</key>
  <category>CCSDS/Conversion</category>
  <import>import ccsds</import>
  <make>ccsds.sym_to_softbits_bf($info_bits,$quant_bits)</make>
	<param>
		<name>Infobits</name>
		<key>info_bits</key>
		<value>8</value>
		<type>int</type>
	</param>
	<param>
		<name>Quantization bits</name>
		<key>quant_bits</key>
		<value>7</value>
		<type>int</type>
	</param>
	<check>$info_bits >= 1</check>
	<check>$info_bits &lt;= 8</check>
	<check>$quant_bits >= 1</check>
	<check>$quant_bits &lt;= 8</check>
	<sink>
		<name>symb</name>
		<type>byte</type>
	</sink>
	<sink>
		<name>conf</name>
		<type>byte</type>
	</sink>
	<source>
		<name>out</name>
		<type>float</type>	
	</source>
	<doc>
Symbol to Softbit encoder

Takes two input sequences with the same rate. The first stream contains decoded
symbols (sequences of info_bits data bits) and the second contains a quant_bits
bit value which represents the confidence in the data bits, where a lower value
means less confidence.

For each information bit in the input streams a float is put to the output
streams containing soft bit as expected by GNURadios decode_ccsds27_fb block
(-1.0f: strongest zero bit, 0.0f: erasure, 1.0f: strongest one bit).


info_bits: Number of information bits per input byte. When comming from an M-PSK
detector the number is ld(M) where ld is the logarithmus dualis (aka log to base
two).

quant_bits: Number of bits used for quantizing the confidence values. Preferred
value is 7.
	</doc>
</block>
