<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="classccsds__mpsk__demod2__cb" kind="class" prot="public">
    <compoundname>ccsds_mpsk_demod2_cb</compoundname>
    <basecompoundref prot="public" virt="non-virtual">gr_sync_block</basecompoundref>
    <includes refid="ccsds__mpsk__demod2__cb_8h" local="no">ccsds_mpsk_demod2_cb.h</includes>
      <sectiondef kind="private-attrib">
      <memberdef kind="variable" id="classccsds__mpsk__demod2__cb_1a56b33588846192ee9afbfd173ff4ec72" prot="private" static="no" mutable="no">
        <type>const unsigned int</type>
        <definition>const unsigned int ccsds_mpsk_demod2_cb::d_M</definition>
        <argsstring></argsstring>
        <name>d_M</name>
        <briefdescription>
<para>Modulation order. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="79" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" bodystart="79" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classccsds__mpsk__demod2__cb_1aecb1066d887fa8d84c72cda53c34627b" prot="private" static="no" mutable="no">
        <type>const unsigned char</type>
        <definition>const unsigned char ccsds_mpsk_demod2_cb::d_QUANT_BITS</definition>
        <argsstring></argsstring>
        <name>d_QUANT_BITS</name>
        <briefdescription>
<para>Number of quantization bits for the confidence value. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="82" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" bodystart="82" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classccsds__mpsk__demod2__cb_1a5cb804a68b91e67636c0c5619859388d" prot="private" static="no" mutable="no">
        <type>const unsigned char</type>
        <definition>const unsigned char ccsds_mpsk_demod2_cb::d_QUANT_MAX</definition>
        <argsstring></argsstring>
        <name>d_QUANT_MAX</name>
        <briefdescription>
<para>Maximum value for the confidece value. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="85" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" bodystart="85" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classccsds__mpsk__demod2__cb_1ac851f8f0dc6964fdf16001e27b713d38" prot="private" static="no" mutable="no">
        <type>const float</type>
        <definition>const float ccsds_mpsk_demod2_cb::d_TWOPI</definition>
        <argsstring></argsstring>
        <name>d_TWOPI</name>
        <briefdescription>
<para>Precomputed constant for 2pi with float precision. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="88" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" bodystart="88" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classccsds__mpsk__demod2__cb_1a1e13268f8548dae023f3ca19c64bfc98" prot="private" static="no" mutable="no">
        <type>const unsigned char *</type>
        <definition>const unsigned char* ccsds_mpsk_demod2_cb::map</definition>
        <argsstring></argsstring>
        <name>map</name>
        <briefdescription>
<para>Array to map binary constellation points to gray coded data bits. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="93" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" bodystart="93" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="friend">
      <memberdef kind="friend" id="classccsds__mpsk__demod2__cb_1ab192f5470dd722eb9413e24abd34c348" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>friend <ref refid="api_8h_1a144137922962dd54ae2e8c1917a7e588" kindref="member">CCSDS_API</ref> ccsds_mpsk_demod2_cb_sptr</type>
        <definition>CCSDS_API ccsds_mpsk_demod2_cb_sptr ccsds_make_mpsk_demod2_cb</definition>
        <argsstring>(const unsigned int M, const unsigned char quant_bits)</argsstring>
        <name>ccsds_make_mpsk_demod2_cb</name>
        <param>
          <type>const unsigned int</type>
          <declname>M</declname>
        </param>
        <param>
          <type>const unsigned char</type>
          <declname>quant_bits</declname>
        </param>
        <briefdescription>
<para>Create an M-PSK demodulator and return it&apos;s shared pointer. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>M</parametername>
</parameternamelist>
<parameterdescription>
<para>Modulation order of the M-PSK signal. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>quant_bits</parametername>
</parameternamelist>
<parameterdescription>
<para>Confidence value quantization in bit of the detected symbols. Must be in the interval [0,8]. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Shared pointer of the created detector.</para></simplesect>
If <computeroutput>quant_bits</computeroutput> is zero, only the detected symbols are generated. If set to nonzero a second output stream at the same rate as the detected symbols will be generated containing a <computeroutput>quant_bits</computeroutput> bit value representing the confidence in this detection, where 0 means this symbol is a guess as good as any other symbol and (2 ^<computeroutput>quant_bits</computeroutput>) - 1 means highest confidence in the detected symbol.</para><para>The confidence value is generated by a linear quantization of the symbol&apos;s squared magnitude in the range from [0.0 to 1.0]. Any symbol with a squared magnitude higher than 1.0 will have highest confidence as well. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="51" column="1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="private-func">
      <memberdef kind="function" id="classccsds__mpsk__demod2__cb_1a283bfb3545bc6f9206ca718dde011e9f" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>ccsds_mpsk_demod2_cb::ccsds_mpsk_demod2_cb</definition>
        <argsstring>(const unsigned int M, const unsigned int quant_bits=0)</argsstring>
        <name>ccsds_mpsk_demod2_cb</name>
        <param>
          <type>const unsigned int</type>
          <declname>M</declname>
        </param>
        <param>
          <type>const unsigned int</type>
          <declname>quant_bits</declname>
          <defval>0</defval>
        </param>
        <briefdescription>
<para>Public constructor of the M-PSK demodulator. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>M</parametername>
</parameternamelist>
<parameterdescription>
<para>Modulation order of the M-PSK signal. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>quant_bits</parametername>
</parameternamelist>
<parameterdescription>
<para>Confidence value quantization in bit of the detected symbols. Must be in the interval [0,8]. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="see"><para><ref refid="classccsds__mpsk__demod__cb" kindref="compound">ccsds_mpsk_demod_cb</ref></para></simplesect>
Demodulate M-PSK modulated symbols back to data bits. This demodulator detects the data bits by a non linear transformation of the sample&apos;s phase. See <ref refid="classccsds__mpsk__demod__cb" kindref="compound">ccsds_mpsk_demod_cb</ref> for a demodulator based on the nearest neighbour principle.</para><para>The first output stream will output the detected symbols. A second output stream at the same rate as the detected symbols will be generated containing a <computeroutput>quant_bits</computeroutput> bit value representing the confidence in this detection, where 0 means this symbol is a guess as good as any other symbol and (2 ^<computeroutput>quant_bits</computeroutput>) - 1 means highest confidence in the detected symbol.</para><para>The confidence value is generated by a linear quantization of the symbol&apos;s squared magnitude in the range from [0.0 to 1.0]. Any symbol with a squared magnitude higher than 1.0 will have highest confidence as well. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="76" column="1"/>
      </memberdef>
      <memberdef kind="function" id="classccsds__mpsk__demod2__cb_1aec21894858d002ddcd5c8e359ef874e6" prot="private" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned char</type>
        <definition>unsigned char ccsds_mpsk_demod2_cb::quant</definition>
        <argsstring>(const float mag) const </argsstring>
        <name>quant</name>
        <param>
          <type>const float</type>
          <declname>mag</declname>
        </param>
        <briefdescription>
<para>Perform the quantization. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>mag</parametername>
</parameternamelist>
<parameterdescription>
<para>squared magnitude of the sample. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Quantized value in the range from [0,d_QUANT_MAX]. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="100" column="1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="public-func">
      <memberdef kind="function" id="classccsds__mpsk__demod2__cb_1af9c23b19e465190a6c377e6c2dbc2ec3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>ccsds_mpsk_demod2_cb::~ccsds_mpsk_demod2_cb</definition>
        <argsstring>()</argsstring>
        <name>~ccsds_mpsk_demod2_cb</name>
        <briefdescription>
<para>Public deconstructor. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="105" column="1"/>
      </memberdef>
      <memberdef kind="function" id="classccsds__mpsk__demod2__cb_1ace9f7c939b869f1563e3f4ef268007ff" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int ccsds_mpsk_demod2_cb::work</definition>
        <argsstring>(int noutput_items, gr_vector_const_void_star &amp;input_items, gr_vector_void_star &amp;output_items)</argsstring>
        <name>work</name>
        <param>
          <type>int</type>
          <declname>noutput_items</declname>
        </param>
        <param>
          <type>gr_vector_const_void_star &amp;</type>
          <declname>input_items</declname>
        </param>
        <param>
          <type>gr_vector_void_star &amp;</type>
          <declname>output_items</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="107" column="1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>M-PSK demodulator.</para><para>M-PSK demodulation based on the phase of the incomming signal. </para>    </briefdescription>
    <detaileddescription>
<para>The incomming phase is converted to a conteallation point (counting counterclockwise starting from zero at symbol 1+0j) with the non linear function:</para><para><programlisting><codeline><highlight class="normal">const_point<sp/>=<sp/>floor(<sp/>0.5*<ref refid="gr-ccsds_2include_2ccsds__time_8h_1a52037c938e3c1b126c6277da5ca689d0" kindref="member">M</ref>*fmod(<sp/>angle/pi<sp/>+<sp/>2,<sp/>2)<sp/>+<sp/>0.5<sp/>)<sp/></highlight></codeline>
</programlisting></para><para>And then the constellation point is mapped to the actual symbol bit sequence by a binary to gray code mapping [<ulink url="http://en.wikipedia.org/wiki/Grey_code#Converting_to_and_from_Gray_code">http://en.wikipedia.org/wiki/Grey_code#Converting_to_and_from_Gray_code</ulink>]:</para><para><programlisting><codeline><highlight class="normal">data<sp/>=<sp/>(const_point<sp/>&gt;&gt;<sp/>1)<sp/>^<sp/>const_point<sp/></highlight></codeline>
</programlisting> </para>    </detaileddescription>
    <inheritancegraph>
      <node id="95">
        <label>gr_sync_block</label>
      </node>
      <node id="94">
        <label>ccsds_mpsk_demod2_cb</label>
        <link refid="classccsds__mpsk__demod2__cb"/>
        <childnode refid="95" relation="public-inheritance">
        </childnode>
      </node>
    </inheritancegraph>
    <collaborationgraph>
      <node id="97">
        <label>gr_sync_block</label>
      </node>
      <node id="96">
        <label>ccsds_mpsk_demod2_cb</label>
        <link refid="classccsds__mpsk__demod2__cb"/>
        <childnode refid="97" relation="public-inheritance">
        </childnode>
      </node>
    </collaborationgraph>
    <location file="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" line="49" column="1" bodyfile="/home/marina/Documents/sdr1/gr-ccsds/gr-ccsds/include/ccsds_mpsk_demod2_cb.h" bodystart="48" bodyend="110"/>
    <listofallmembers>
      <member refid="classccsds__mpsk__demod2__cb_1ab192f5470dd722eb9413e24abd34c348" prot="private" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>ccsds_make_mpsk_demod2_cb</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1a283bfb3545bc6f9206ca718dde011e9f" prot="private" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>ccsds_mpsk_demod2_cb</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1a56b33588846192ee9afbfd173ff4ec72" prot="private" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>d_M</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1aecb1066d887fa8d84c72cda53c34627b" prot="private" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>d_QUANT_BITS</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1a5cb804a68b91e67636c0c5619859388d" prot="private" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>d_QUANT_MAX</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1ac851f8f0dc6964fdf16001e27b713d38" prot="private" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>d_TWOPI</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1a1e13268f8548dae023f3ca19c64bfc98" prot="private" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>map</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1aec21894858d002ddcd5c8e359ef874e6" prot="private" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>quant</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1ace9f7c939b869f1563e3f4ef268007ff" prot="public" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>work</name></member>
      <member refid="classccsds__mpsk__demod2__cb_1af9c23b19e465190a6c377e6c2dbc2ec3" prot="public" virt="non-virtual"><scope>ccsds_mpsk_demod2_cb</scope><name>~ccsds_mpsk_demod2_cb</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
