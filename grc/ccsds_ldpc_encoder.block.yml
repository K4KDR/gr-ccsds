# auto-generated by grc.converter

id: ccsds_ldpc_encoder
label: LDPC Encoder (CCSDS)
category: CCSDS/Channelcoding

parameters:
-   id: gen_file
    label: Generator matrix
    dtype: file_open
-   id: systype
    label: Systematic
    dtype: enum
    default: ccsds.LDPC_SYS_FRONT
    options: [sys_none, sys_front, sys_back]
    option_labels: [None, Front, Back]
    option_attributes:
        fcn: [ccsds.LDPC_SYS_NONE, ccsds.LDPC_SYS_FRONT, ccsds.LDPC_SYS_BACK]
-   id: puncttype
    label: Puncturing position
    dtype: enum
    default: ccsds.LDPC_PUNCT_NONE
    options: [punct_none, punct_front, punct_back, punct_custom]
    option_labels: [None, Front, Back, Custom]
    option_attributes:
        fcn: [ccsds.LDPC_PUNCT_NONE, ccsds.LDPC_PUNCT_FRONT, ccsds.LDPC_PUNCT_BACK,
            ccsds.LDPC_PUNCT_CUSTOM]
-   id: num_punct
    label: Number of punctures
    dtype: int
    default: '0'
-   id: punct_pos
    label: Custom puncturing positions
    dtype: int_vector
    default: '[]'

inputs:
-   domain: message
    id: in

outputs:
-   domain: message
    id: out
asserts:
- ${ num_punct >= 0 }

templates:
    imports: import gnuradio.ccsds as ccsds
    make: ccsds.ldpc_encoder(${gen_file}, ${systype.fcn}, ${puncttype.fcn}, ${num_punct},
        tuple(${punct_pos}))

file_format: 1
