<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNU Radio&#39;s CCSDS Package: ccsds_frame_sync_b Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio&#39;s CCSDS Package
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classccsds__frame__sync__b.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">ccsds_frame_sync_b Class Reference<div class="ingroups"><a class="el" href="group__receiver.html">CCSDS receiver blocks</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Take the input streams and look for an ASM.  
 <a href="classccsds__frame__sync__b.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ccsds_frame_sync_b:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classccsds__frame__sync__b.png" usemap="#ccsds_frame_sync_b_map" alt=""/>
  <map id="ccsds_frame_sync_b_map" name="ccsds_frame_sync_b_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47106c38ec73df3a76c412cd753bffb2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a47106c38ec73df3a76c412cd753bffb2">~ccsds_frame_sync_b</a> ()</td></tr>
<tr class="memdesc:a47106c38ec73df3a76c412cd753bffb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public deconstructor of the FS.  <a href="#a47106c38ec73df3a76c412cd753bffb2">More...</a><br/></td></tr>
<tr class="separator:a47106c38ec73df3a76c412cd753bffb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab38632691b26f033e574e0e358b4a87a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#ab38632691b26f033e574e0e358b4a87a">forecast</a> (int noutput_items, gr_vector_int &amp;ninput_items_required)</td></tr>
<tr class="separator:ab38632691b26f033e574e0e358b4a87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920103268e4029dcbe797247fb59d667"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a920103268e4029dcbe797247fb59d667">stop</a> (void)</td></tr>
<tr class="separator:a920103268e4029dcbe797247fb59d667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41684a02c5c0768f609727f18ae9e27b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a41684a02c5c0768f609727f18ae9e27b">general_work</a> (int noutput_items, gr_vector_int &amp;ninput_items, gr_vector_const_void_star &amp;input_items, gr_vector_void_star &amp;output_items)</td></tr>
<tr class="separator:a41684a02c5c0768f609727f18ae9e27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a70c0b994791e82fb1b9158d60ce253e5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a70c0b994791e82fb1b9158d60ce253e5">d_STATE</a> { <a class="el" href="classccsds__frame__sync__b.html#a70c0b994791e82fb1b9158d60ce253e5a471e24a47df07cf377a519b8b4c2e665">STATE_SEARCH</a> =0, 
<a class="el" href="classccsds__frame__sync__b.html#a70c0b994791e82fb1b9158d60ce253e5aee828c60d51dee6fecdf676e36fd0266">STATE_LOCK</a>
 }</td></tr>
<tr class="memdesc:a70c0b994791e82fb1b9158d60ce253e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerator for the two different states.  <a href="classccsds__frame__sync__b.html#a70c0b994791e82fb1b9158d60ce253e5">More...</a><br/></td></tr>
<tr class="separator:a70c0b994791e82fb1b9158d60ce253e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a223349d0182f85d7b3c9b74ca5438741"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a223349d0182f85d7b3c9b74ca5438741">ccsds_frame_sync_b</a> (std::string ASM, unsigned int threshold, const unsigned int ber_threshold, const unsigned int frame_length)</td></tr>
<tr class="memdesc:a223349d0182f85d7b3c9b74ca5438741"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private constructor of the frame synchronizer.  <a href="#a223349d0182f85d7b3c9b74ca5438741">More...</a><br/></td></tr>
<tr class="separator:a223349d0182f85d7b3c9b74ca5438741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355516ff91ff537a74a8a32328de1408"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a355516ff91ff537a74a8a32328de1408">get_bytes_required</a> (void)</td></tr>
<tr class="memdesc:a355516ff91ff537a74a8a32328de1408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates how many input bytes are needed to check for a known ASM position.  <a href="#a355516ff91ff537a74a8a32328de1408">More...</a><br/></td></tr>
<tr class="separator:a355516ff91ff537a74a8a32328de1408"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac4507fbc08a66e8f196863bd475da0e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classccsds__frame__sync__b.html#a70c0b994791e82fb1b9158d60ce253e5">d_STATE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#ac4507fbc08a66e8f196863bd475da0e5">d_state</a></td></tr>
<tr class="memdesc:ac4507fbc08a66e8f196863bd475da0e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">State variable.  <a href="#ac4507fbc08a66e8f196863bd475da0e5">More...</a><br/></td></tr>
<tr class="separator:ac4507fbc08a66e8f196863bd475da0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d597a0afbf3ed6b008c847515987244"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classccsds__asm__operator.html">ccsds_asm_operator</a>*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a7d597a0afbf3ed6b008c847515987244">d_asm_operator</a></td></tr>
<tr class="memdesc:a7d597a0afbf3ed6b008c847515987244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper class to operate on the ASM stream.  <a href="#a7d597a0afbf3ed6b008c847515987244">More...</a><br/></td></tr>
<tr class="separator:a7d597a0afbf3ed6b008c847515987244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73c9fafb6ec489ad91942178885546a"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#af73c9fafb6ec489ad91942178885546a">d_ASM_LEN</a></td></tr>
<tr class="memdesc:af73c9fafb6ec489ad91942178885546a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of ASM in bytes.  <a href="#af73c9fafb6ec489ad91942178885546a">More...</a><br/></td></tr>
<tr class="separator:af73c9fafb6ec489ad91942178885546a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e836f637569314829218d8869f1de5d"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a9e836f637569314829218d8869f1de5d">d_THRESHOLD</a></td></tr>
<tr class="memdesc:a9e836f637569314829218d8869f1de5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of ASM losses to enter full search again. If set to one, a full search is performed every time an ASM is lost.  <a href="#a9e836f637569314829218d8869f1de5d">More...</a><br/></td></tr>
<tr class="separator:a9e836f637569314829218d8869f1de5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766f31e8ebb2dd7185c454486fdddafb"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a766f31e8ebb2dd7185c454486fdddafb">d_BER_THRESHOLD</a></td></tr>
<tr class="memdesc:a766f31e8ebb2dd7185c454486fdddafb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of bit errors that may occur between a sequence and the ASM to still consider the sequence as an ASM. If set to zero, sequence must match the ASM exactly.  <a href="#a766f31e8ebb2dd7185c454486fdddafb">More...</a><br/></td></tr>
<tr class="separator:a766f31e8ebb2dd7185c454486fdddafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a2834c03b913baa20ac042b33a3782e"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a0a2834c03b913baa20ac042b33a3782e">d_FRAME_LEN</a></td></tr>
<tr class="memdesc:a0a2834c03b913baa20ac042b33a3782e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of a frame (without ASM) in bytes.  <a href="#a0a2834c03b913baa20ac042b33a3782e">More...</a><br/></td></tr>
<tr class="separator:a0a2834c03b913baa20ac042b33a3782e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5bc4eef58dd5f5f221b2a1c4c2f23c1"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#aa5bc4eef58dd5f5f221b2a1c4c2f23c1">d_SEARCH_LEN</a></td></tr>
<tr class="memdesc:aa5bc4eef58dd5f5f221b2a1c4c2f23c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bytes needed for a search.  <a href="#aa5bc4eef58dd5f5f221b2a1c4c2f23c1">More...</a><br/></td></tr>
<tr class="separator:aa5bc4eef58dd5f5f221b2a1c4c2f23c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d97b7c19491ce77b6fbedea9e85cab"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a95d97b7c19491ce77b6fbedea9e85cab">d_COPY_LEN</a></td></tr>
<tr class="memdesc:a95d97b7c19491ce77b6fbedea9e85cab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bytes that are copied to output stream.  <a href="#a95d97b7c19491ce77b6fbedea9e85cab">More...</a><br/></td></tr>
<tr class="separator:a95d97b7c19491ce77b6fbedea9e85cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3d441c7eaa4e3404295a549bde20a0c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#ae3d441c7eaa4e3404295a549bde20a0c">d_count</a></td></tr>
<tr class="memdesc:ae3d441c7eaa4e3404295a549bde20a0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter variable on how many ASMs have been observed.  <a href="#ae3d441c7eaa4e3404295a549bde20a0c">More...</a><br/></td></tr>
<tr class="separator:ae3d441c7eaa4e3404295a549bde20a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af606f8cad6404d8cc24daaae967d4597"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#af606f8cad6404d8cc24daaae967d4597">d_offset_bytes</a></td></tr>
<tr class="memdesc:af606f8cad6404d8cc24daaae967d4597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Byte index of the next expected ASM if locked. If in search state this variable may contain anything.  <a href="#af606f8cad6404d8cc24daaae967d4597">More...</a><br/></td></tr>
<tr class="separator:af606f8cad6404d8cc24daaae967d4597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49cfa2e83b59e3a92a7012a2ab2d81b8"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a49cfa2e83b59e3a92a7012a2ab2d81b8">d_offset_bits</a></td></tr>
<tr class="memdesc:a49cfa2e83b59e3a92a7012a2ab2d81b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit index of the next expected ASM in the byte indicated by d_offset_byte if in lock state. If in search state this variable may contain anything.  <a href="#a49cfa2e83b59e3a92a7012a2ab2d81b8">More...</a><br/></td></tr>
<tr class="separator:a49cfa2e83b59e3a92a7012a2ab2d81b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99129c5c5d7d8dd39db2ebe088ea389e"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a99129c5c5d7d8dd39db2ebe088ea389e">dbg_file_in</a></td></tr>
<tr class="memdesc:a99129c5c5d7d8dd39db2ebe088ea389e"><td class="mdescLeft">&#160;</td><td class="mdescRight">File pointer for debugging.  <a href="#a99129c5c5d7d8dd39db2ebe088ea389e">More...</a><br/></td></tr>
<tr class="separator:a99129c5c5d7d8dd39db2ebe088ea389e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7ce3f1655f26503640675b8a732dea"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a1f7ce3f1655f26503640675b8a732dea">dbg_file_instream</a></td></tr>
<tr class="separator:a1f7ce3f1655f26503640675b8a732dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940d75569f3f4ed8e0239b90d87f6157"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a940d75569f3f4ed8e0239b90d87f6157">dbg_file_out</a></td></tr>
<tr class="separator:a940d75569f3f4ed8e0239b90d87f6157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3de250601cdeab6adbaeb5011eed5ba"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#aa3de250601cdeab6adbaeb5011eed5ba">dbg_count</a></td></tr>
<tr class="memdesc:aa3de250601cdeab6adbaeb5011eed5ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for debugging.  <a href="#aa3de250601cdeab6adbaeb5011eed5ba">More...</a><br/></td></tr>
<tr class="separator:aa3de250601cdeab6adbaeb5011eed5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a8c5394568e27d215f151c7281032266d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api_8h.html#a144137922962dd54ae2e8c1917a7e588">CCSDS_API</a> ccsds_frame_sync_b_sptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classccsds__frame__sync__b.html#a8c5394568e27d215f151c7281032266d">ccsds_make_frame_sync_b</a> (std::string ASM, unsigned int threshold, const unsigned int ber_threshold, const unsigned int frame_length)</td></tr>
<tr class="memdesc:a8c5394568e27d215f151c7281032266d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a shared_ptr to a new instance of <a class="el" href="classccsds__frame__sync__b.html" title="Take the input streams and look for an ASM. ">ccsds_frame_sync_b</a>.  <a href="#a8c5394568e27d215f151c7281032266d">More...</a><br/></td></tr>
<tr class="separator:a8c5394568e27d215f151c7281032266d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Take the input streams and look for an ASM. </p>
<p>The block will start in searchmode, looking for every possible bit and byte offset. Once an ASM is found it will enter locked state where it will only check for the ASM at the expected position. If the ASM is found a counter is increased up to <code>d_THRESHOLD</code>. If an exprected ASM is not found the counter is decreased. If the counter reaches zero the block goes into search mode again.</p>
<p>If the block finds an ASM it will create an asynchronous message containing the <code>frame_length</code> bytes after the ASM. The input stream is copied the output stream in any case. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00080">80</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a70c0b994791e82fb1b9158d60ce253e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classccsds__frame__sync__b.html#a70c0b994791e82fb1b9158d60ce253e5">ccsds_frame_sync_b::d_STATE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enumerator for the two different states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a70c0b994791e82fb1b9158d60ce253e5a471e24a47df07cf377a519b8b4c2e665"></a>STATE_SEARCH</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a70c0b994791e82fb1b9158d60ce253e5aee828c60d51dee6fecdf676e36fd0266"></a>STATE_LOCK</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00106">106</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a223349d0182f85d7b3c9b74ca5438741"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ccsds_frame_sync_b::ccsds_frame_sync_b </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>ASM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>ber_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>frame_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private constructor of the frame synchronizer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ASM</td><td>String containing the attached sync marker to look for in hexadecimal representation. Must be of even length. </td></tr>
    <tr><td class="paramname">threshold</td><td>Number of ASM losses to enter full search again. If set to one, a full search is performed every time an ASM is lost. </td></tr>
    <tr><td class="paramname">ber_threshold</td><td>Maximum number of bit errors between a sequence and the ASM to consider the sequence matching. If threshold equals zero the sequence must be an exact copy of the ASM. </td></tr>
    <tr><td class="paramname">frame_length</td><td>Length of a frame (without ASM) in bytes.</td></tr>
  </table>
  </dd>
</dl>
<p>Constructs a Frame sync block that searches for the ASM in the input streams and outputs an asynchronous message with the <code>d_FRAME_LEN</code> bytes after the ASM. If no ASM is is found, no message is created. This block consumes the ASM in the output message.</p>
<p>The input of this block is copied one-to-one to the output stream. </p>

</div>
</div>
<a class="anchor" id="a47106c38ec73df3a76c412cd753bffb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ccsds_frame_sync_b::~ccsds_frame_sync_b </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public deconstructor of the FS. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab38632691b26f033e574e0e358b4a87a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ccsds_frame_sync_b::forecast </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>noutput_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr_vector_int &amp;&#160;</td>
          <td class="paramname"><em>ninput_items_required</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a41684a02c5c0768f609727f18ae9e27b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ccsds_frame_sync_b::general_work </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>noutput_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr_vector_int &amp;&#160;</td>
          <td class="paramname"><em>ninput_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr_vector_const_void_star &amp;&#160;</td>
          <td class="paramname"><em>input_items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr_vector_void_star &amp;&#160;</td>
          <td class="paramname"><em>output_items</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a355516ff91ff537a74a8a32328de1408"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ccsds_frame_sync_b::get_bytes_required </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates how many input bytes are needed to check for a known ASM position. </p>
<dl class="section return"><dt>Returns</dt><dd><code>d_ASM_LEN+d_FRAME_LEN</code> if <code>d_offset_bits</code> is zero, otherwise <code>d_ASM_LEN+d_FRAME_LEN+1</code> </dd></dl>

</div>
</div>
<a class="anchor" id="a920103268e4029dcbe797247fb59d667"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ccsds_frame_sync_b::stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a8c5394568e27d215f151c7281032266d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api_8h.html#a144137922962dd54ae2e8c1917a7e588">CCSDS_API</a> ccsds_frame_sync_b_sptr ccsds_make_frame_sync_b </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>ASM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>ber_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>frame_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a shared_ptr to a new instance of <a class="el" href="classccsds__frame__sync__b.html" title="Take the input streams and look for an ASM. ">ccsds_frame_sync_b</a>. </p>
<p>Create an instance of <a class="el" href="classccsds__frame__sync__b.html" title="Take the input streams and look for an ASM. ">ccsds_frame_sync_b</a> and return it's shared_ptr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ASM</td><td>String containing the attached sync marker to look for in hexadecimal representation. Must be of even length. </td></tr>
    <tr><td class="paramname">threshold</td><td>Number of ASM losses to enter full search again. If set to one, a full search is performed every time an ASM is lost. </td></tr>
    <tr><td class="paramname">ber_threshold</td><td>Maximum number of bit errors between a sequence and the ASM to consider the sequence matching. If threshold equals zero the sequence must be an exact copy of the ASM. </td></tr>
    <tr><td class="paramname">frame_length</td><td>Length of a frame (without ASM) in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer to the created AR block </dd></dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="af73c9fafb6ec489ad91942178885546a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int ccsds_frame_sync_b::d_ASM_LEN</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Length of ASM in bytes. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classccsds__asm__operator.html" title="Outputs debug messages to stdout if defined. ">ccsds_asm_operator</a> </dd></dl>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00120">120</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7d597a0afbf3ed6b008c847515987244"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classccsds__asm__operator.html">ccsds_asm_operator</a>* ccsds_frame_sync_b::d_asm_operator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper class to operate on the ASM stream. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00114">114</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a766f31e8ebb2dd7185c454486fdddafb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int ccsds_frame_sync_b::d_BER_THRESHOLD</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum number of bit errors that may occur between a sequence and the ASM to still consider the sequence as an ASM. If set to zero, sequence must match the ASM exactly. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00131">131</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a95d97b7c19491ce77b6fbedea9e85cab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int ccsds_frame_sync_b::d_COPY_LEN</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of bytes that are copied to output stream. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00148">148</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae3d441c7eaa4e3404295a549bde20a0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ccsds_frame_sync_b::d_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter variable on how many ASMs have been observed. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00151">151</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0a2834c03b913baa20ac042b33a3782e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int ccsds_frame_sync_b::d_FRAME_LEN</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Length of a frame (without ASM) in bytes. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00134">134</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a49cfa2e83b59e3a92a7012a2ab2d81b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ccsds_frame_sync_b::d_offset_bits</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bit index of the next expected ASM in the byte indicated by d_offset_byte if in lock state. If in search state this variable may contain anything. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classccsds__frame__sync__b.html#ac4507fbc08a66e8f196863bd475da0e5" title="State variable. ">d_state</a> </dd>
<dd>
<a class="el" href="classccsds__frame__sync__b.html#af606f8cad6404d8cc24daaae967d4597" title="Byte index of the next expected ASM if locked. If in search state this variable may contain anything...">d_offset_bytes</a> </dd></dl>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00168">168</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="af606f8cad6404d8cc24daaae967d4597"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ccsds_frame_sync_b::d_offset_bytes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Byte index of the next expected ASM if locked. If in search state this variable may contain anything. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classccsds__frame__sync__b.html#ac4507fbc08a66e8f196863bd475da0e5" title="State variable. ">d_state</a> </dd>
<dd>
<a class="el" href="classccsds__frame__sync__b.html#a49cfa2e83b59e3a92a7012a2ab2d81b8" title="Bit index of the next expected ASM in the byte indicated by d_offset_byte if in lock state...">d_offset_bits</a> </dd></dl>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00159">159</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa5bc4eef58dd5f5f221b2a1c4c2f23c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int ccsds_frame_sync_b::d_SEARCH_LEN</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of bytes needed for a search. </p>
<p>In order to catch at least one complete ASM (if there is one) we need this many bytes. Worst case: The ASM started one bit before our current observation interval. In this case the next ASM starts in the last bit of the d_ASM_LEN+d_FRAME_LEN byte and we need another d_ASM_LEN byte to catch the complete ASM (and the first byte of the following frame) </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00145">145</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac4507fbc08a66e8f196863bd475da0e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classccsds__frame__sync__b.html#a70c0b994791e82fb1b9158d60ce253e5">d_STATE</a> ccsds_frame_sync_b::d_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State variable. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00111">111</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9e836f637569314829218d8869f1de5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int ccsds_frame_sync_b::d_THRESHOLD</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of ASM losses to enter full search again. If set to one, a full search is performed every time an ASM is lost. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00125">125</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa3de250601cdeab6adbaeb5011eed5ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ccsds_frame_sync_b::dbg_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter for debugging. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00177">177</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a99129c5c5d7d8dd39db2ebe088ea389e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE* ccsds_frame_sync_b::dbg_file_in</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File pointer for debugging. </p>

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00172">172</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1f7ce3f1655f26503640675b8a732dea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE* ccsds_frame_sync_b::dbg_file_instream</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00173">173</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<a class="anchor" id="a940d75569f3f4ed8e0239b90d87f6157"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE* ccsds_frame_sync_b::dbg_file_out</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ccsds__frame__sync__b_8h_source.html#l00174">174</a> of file <a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ccsds__frame__sync__b_8h_source.html">ccsds_frame_sync_b.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classccsds__frame__sync__b.html">ccsds_frame_sync_b</a></li>
    <li class="footer">Generated on Mon Nov 30 2015 22:33:44 for GNU Radio&#39;s CCSDS Package by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
